{"version":3,"sources":["utils/Api.js","utils/data.js","contexts/CurrentUserContext.js","images/logo-white.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","options","this","_baseUrl","baseUrl","_headers","headers","response","then","res","ok","json","Promise","reject","Error","status","statusText","_getResponseData","fetch","method","data","body","JSON","stringify","name","about","avatar","item","link","_id","like","all","getProfile","getInitialCards","authorization","CurrentUserContext","React","createContext","Header","className","src","logo","alt","Card","props","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","isLiked","likes","some","cardDeleteButtonClassName","cardLikeButtonClassName","onClick","type","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","map","Footer","Date","getFullYear","PopupWithForm","isOpen","action","noValidate","onSubmit","onClose","title","children","submitText","ImagePopup","isOpenCard","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","id","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","placeholder","ref","AddPlacePopup","nameRef","linkRef","App","setCurrentUser","setCards","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","submitTextSave","setSubmitTextSave","closeAllPopups","getAllData","allData","profile","initialCards","catch","err","console","log","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","saveProfile","finally","changePhoto","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.41e1eeec.chunk.js","sourcesContent":["import token from './data.js';\n\nexport class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _getResponseData(response) {\n    return response.then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(new Error(`Ошибка получения данных: ${res.status} ${res.statusText}`));\n      })\n  }\n\n  /* профиль */\n  getProfile() {\n    return this._getResponseData(fetch(`${this._baseUrl}/users/me`, {\n        method: 'GET',\n        headers: this._headers\n      }))\n      \n  }\n\n  saveProfile(data) {\n    return this._getResponseData(fetch(`${this._baseUrl}/users/me`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: data.name,\n          about: data.about\n        })\n      }))\n  }\n\n  changePhoto(data) {\n    return this._getResponseData(fetch(`${this._baseUrl}/users/me/avatar`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          avatar: data.avatar\n        })\n      }))\n  }\n\n  /* карточки */\n  getInitialCards() {\n    return this._getResponseData(fetch(`${this._baseUrl}/cards`, {\n        method: 'GET',\n        headers: this._headers\n      }))\n  }\n\n  addCard(item) {\n    return this._getResponseData(fetch(`${this._baseUrl}/cards`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: item.name,\n          link: item.link\n        })\n      }))\n  }\n\n  deleteCard(item) {\n    return this._getResponseData(fetch(`${this._baseUrl}/cards/${item._id}`, {\n        method: 'DELETE',\n        headers: this._headers\n      }))\n  }\n\n  changeLikeCardStatus(item, like) {\n    if (like) {\n      return this._getResponseData(fetch(`${this._baseUrl}/cards/likes/${item._id}`, {\n        method: 'PUT',\n        headers: this._headers\n      }))\n    } else {\n      return this._getResponseData(fetch(`${this._baseUrl}/cards/likes/${item._id}`, {\n        method: 'DELETE',\n        headers: this._headers\n      }))\n    }\n  }\n\n  /** загрузка начальных данных в одном блоке */\n  getAllData() {\n    return Promise.all([this.getProfile(), this.getInitialCards()]);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    authorization: token,\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;","/*данные заполнения*/\nexport const initialCards = [\n  {\n      name: 'Архыз',\n      link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg'\n  },\n  {\n      name: 'Челябинская область',\n      link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg'\n  },\n  {\n      name: 'Иваново',\n      link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg'\n  },\n  {\n      name: 'Камчатка',\n      link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg'\n  },\n  {\n      name: 'Холмогорский район',\n      link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg'\n  },\n  {\n      name: 'Байкал',\n      link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg'\n  }\n];\n\nexport const cardContainerSelector = '.cards';\nexport const userNameSelector = '.profile__name';\nexport const userAboutSelector = '.profile__about';\nexport const avatarSelector = '.profile__image';\n\nexport const popupImageSelector = '.popup_type_image';\nexport const popupUserInfoSelector = '.popup_type_user';\nexport const popupAddCardSelector = '.popup_type_card';\nexport const popupUserAvatarSelector = '.popup_type_avatar';\nexport const popupConfirmSelector = '.popup_type_confirm';\n\nexport const setting = {\n  formSelector: '.popup__form',\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__button',\n  inactiveButtonClass: 'popup__button_disabled',\n  inputErrorClass: 'popup__input_type_error',\n  errorClass: 'popup__error_visible'\n};\n\nconst token = 'b3f5bad4-676e-42da-8be0-421a5a571e47';\n\n/* импорт картинок */\n/*import logoWhiteSvg from '../images/logo-white.svg';\nimport logoBlackSvg from '../images/logo-black.svg';\nimport avatarJpg from '../images/avatar.jpg';\nimport deleteButtonSvg from '../images/delete-button.svg';\nimport deleteButtonHoverSvg from '../images/delete-button-hover.svg';\nimport addButtonSvg from '../images/add-button.svg';\nimport addButtonHoverSvg from '../images/add-button-hover.svg';\nimport editButtonSvg from '../images/edit-button.svg';\nimport editButtonHoverSvg from '../images/edit-button-hover.svg';\nimport likeClickSvg from '../images/like-click.svg';\nimport likeHoverSvg from '../images/like-hover.svg';\nimport likeSvg from '../images/like.svg';*/\n\nexport default token;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/logo-white.ff16f24b.svg\";","import logo from '../images/logo-white.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"Логотип\" className=\"logo\" />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card(props) {\r\n\r\n  const {card, onCardClick, onCardLike, onCardDelete} = props;\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(like => like._id === currentUser._id);  \r\n\r\n  const cardDeleteButtonClassName = (`card__delete ${!isOwn ? 'card__delete_disable' : ''}`); \r\n  const cardLikeButtonClassName = `card__like ${isLiked ? 'card__like_liked' : ''}`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);    \r\n  } \r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);    \r\n  }   \r\n\r\n  function handleDelete() {\r\n    onCardDelete(card);    \r\n  }   \r\n\r\n  return (  \r\n\r\n    <article className=\"card\">\r\n      <img src={card.link} alt={card.name} className=\"card__image\" onClick={handleClick}/>\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDelete}></button>\r\n      <div className=\"card__heading\">\r\n        <h2 className=\"card__title\">{card.name}</h2>\r\n        <div className=\"card__like-container\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n          <p className=\"card__like-count\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n    \r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n \r\n  const {cards, \r\n         onEditAvatar, \r\n         onEditProfile, \r\n         onAddPlace, \r\n         onCardClick, \r\n         onCardLike, \r\n         onCardDelete} = props;\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\" onClick={onEditAvatar}>\r\n          <img src={currentUser.avatar} alt=\"аватар\" className=\"profile__image\" />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__container\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\r\n          </div>\r\n          <p className=\"profile__about\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"cards\">\r\n\r\n      {\r\n        cards.map((card) => (\r\n          <Card \r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={onCardClick}\r\n            onCardLike={onCardLike}\r\n            onCardDelete={onCardDelete}\r\n          />\r\n        ))\r\n      }\r\n      \r\n      </section>\r\n\r\n    </main>\r\n  )\r\n\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","function PopupWithForm(props) { \r\n  \r\n  return (\r\n\r\n    <section className={`popup popup_type_${props.name} ${props.isOpen &&  'popup_opened'}`} >\r\n\r\n    <form action=\"post\" name=\"popup__container\" className=\"popup__form\" noValidate onSubmit={props.onSubmit}>\r\n      <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\r\n      <h2 className=\"popup__title\">{props.title}</h2>\r\n      \r\n      {props.children}\r\n\r\n      <button className=\"popup__button\">{props.submitText}</button>\r\n\r\n    </form>\r\n  </section>\r\n  \r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","function ImagePopup(props) {\r\n    \r\n  const {card, onClose} = props;\r\n\r\n  return (\r\n    \r\n    <section className={`popup popup_type_image ${card.isOpenCard  &&  'popup_opened'}`} >\r\n      <figure className=\"popup__image-box\">\r\n        <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\r\n        <img className=\"popup__image\" src={card.link} alt={card.name} />\r\n          <figcaption className=\"popup__caption\">{card.name}</figcaption>\r\n      </figure>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const {onClose, isOpen, submitText, onUpdateUser} = props;\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  function handleOnChangeName(evt) {  \r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleOnChangeDescription(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"user\" \r\n      title=\"Редактировать профиль\" \r\n      submitText={submitText} \r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input className=\"popup__input popup__input_type_name\" id=\"name-input\" \r\n          type=\"text\" name=\"name\" required minLength=\"2\" maxLength=\"40\" \r\n          value={name} onChange={handleOnChangeName}\r\n        />\r\n        <span className=\"popup__error\" id=\"name-input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input className=\"popup__input popup__input_type_about\" id=\"about-input\" \r\n          type=\"text\" name=\"about\" required minLength=\"2\" maxLength=\"200\" \r\n          value={description} onChange={handleOnChangeDescription}\r\n        />\r\n        <span className=\"popup__error\" id=\"about-input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const {isOpen, onClose, submitText, onUpdateAvatar} = props;\r\n\r\n  const avatarRef = React.useRef();\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  React.useEffect(() => {\r\n    avatarRef.current.value = currentUser.avatar;    \r\n  }, [currentUser]); \r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n  \r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  } \r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"avatar\" \r\n      title=\"Обновить аватар\" \r\n      submitText={submitText} \r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input className=\"popup__input popup__input_type_place\" id=\"place-input\" type=\"url\" \r\n          name=\"avatar\" placeholder=\"Ссылка\" required minLength=\"1\" maxLength=\"300\" \r\n          ref={avatarRef}\r\n        />\r\n        <span className=\"popup__error\" id=\"place-input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const {submitText, isOpen, onClose, onAddPlace} = props;\r\n  const nameRef = React.useRef();\r\n  const linkRef = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace(\r\n      {\r\n      name: nameRef.current.value,\r\n      link: linkRef.current.value,\r\n    }\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n        name=\"card\" \r\n        title=\"Новое место\" \r\n        submitText={submitText} \r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <label className=\"popup__field\">\r\n          <input className=\"popup__input popup__input_type_place\" id=\"place-input\" type=\"text\" \r\n            name=\"place\" placeholder=\"Название\" required minLength=\"1\" maxLength=\"30\" \r\n            ref={nameRef} \r\n          />\r\n          <span className=\"popup__error\" id=\"place-input-error\"></span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input className=\"popup__input popup__input_type_link\" id=\"link-input\" type=\"url\" \r\n            name=\"link\" placeholder=\"Ссылка на картинку\" required \r\n            ref={linkRef} \r\n          />\r\n          <span className=\"popup__error\" id=\"link-input-error\"></span>\r\n        </label>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\nimport '../App.css';\nimport api from '../utils/Api.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  const [isEditProfilePopupOpen,setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen,setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen,setEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({name: '', link: '', isOpenCard: false});\n\n  const [submitTextSave, setSubmitTextSave]= React.useState('Сохранить');\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n   }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n   }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n   }\n\n  function handleCardClick(card) {\n    setSelectedCard({...card, isOpenCard: true});\n   }\n    \n  function closeAllPopups(){\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setSelectedCard({name: '', link: '', isOpenCard: false});\n   }\n\n  //получение начальных данных\n  React.useEffect(() => {\n    api.getAllData()\n      .then((allData) => {\n        const [profile, initialCards] = allData;\n        \n        setCards(initialCards);\n        setCurrentUser(profile)\n\n      })\n      .catch((err) => console.log(err));\n  },[])\n  \n  //данные пользователя\n  function handleUpdateUser(data) {\n    setSubmitTextSave(\"Сохранение...\");\n    api.saveProfile(data)\n      .then((profile) => {\n        setCurrentUser(profile);\n        closeAllPopups();\n      })\n      .finally(() => {\n        setSubmitTextSave(\"Сохранить\");\n      });\n  }\n  \n  function handleUpdateAvatar(data){\n    setSubmitTextSave(\"Сохранение...\");\n    api.changePhoto(data)\n      .then((profile) => {\n        setCurrentUser(profile);\n        closeAllPopups();\n    })\n    .finally(() => {\n      setSubmitTextSave(\"Сохранить\");\n    });\n  }\n\n  //карточки\n  \n  /* лайк карточки */\n  function handleCardLike(card) {\n    \n    const isLiked = card.likes.some(like => like._id === currentUser._id);\n  \n    api.changeLikeCardStatus(card, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      });\n  } \n\n  /* удаление карточки */\n  function handleCardDelete(card) {\n    api.deleteCard(card)\n      .then(() => {\n        const newCards = cards.filter((item) => {        \n          return item._id !== card._id;\n        });\n        setCards(newCards);\n      })\n  }\n\n  /* добавление карточки */\n  function handleAddPlaceSubmit(card){\n    setSubmitTextSave(\"Сохранение...\");\n    api.addCard(card)\n      .then((data) => {\n        setCards([data, ...cards]);\n        closeAllPopups();\n      })\n      .finally(() => {\n        setSubmitTextSave(\"Сохранить\");\n      });\n  }\n\n  return (\n\n    <CurrentUserContext.Provider value={currentUser}>\n    <body className=\"page\">\n \n      <Header />\n\n      <Main \n        onEditProfile={handleEditProfileClick} \n        onAddPlace ={handleAddPlaceClick} \n        onEditAvatar={handleEditAvatarClick}\n        onCardClick={handleCardClick}\n        cards={cards}\n        onCardLike ={handleCardLike}\n        onCardDelete={handleCardDelete}\n      />\n\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        submitText={submitTextSave}\n      />\n\n      <EditAvatarPopup \n        isOpen={isEditAvatarPopupOpen} \n        onClose={closeAllPopups} \n        onUpdateAvatar={handleUpdateAvatar}\n        submitText={submitTextSave}\n      />\n\n      <AddPlacePopup \n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n        submitText={submitTextSave}\n      />\n\n      <PopupWithForm \n        name=\"confirm\" \n        title=\"Вы уверены?\" \n        submitText=\"Да\"\n      />\n    \n      <ImagePopup \n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n    \n      <Footer />\n\n    </body>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}